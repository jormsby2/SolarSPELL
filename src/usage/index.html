<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="/img/favicon.ico"> -->

    <title>SPELL</title>

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <link href="jquery.dataTables.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../css/starter-template.css" rel="stylesheet">    

    <script src="../js/ie-emulation-modes-warning.js"></script>
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="../index.html" style="padding:5px 5px; margin-left:0px">
                    <img alt="Brand" href="../index.html" src="../img/SPELLWebsite-header_revised.png" style="max-height:40px">
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <h2>Welcome Administrator!</h2>
        <h4>Please review the usage data below and download CSV usage file.</h4>
    </div>

    <!--<div class="container">

        <div class="row">
            <div class="col-xs-6 col-lg-4">
                <h3>ENVIRONMENT</h3>
            </div>
            <div class="col-xs-6 col-lg-4">
                <h3>HEALTH AND SAFETY</h3>
            </div>
            <div class="col-xs-6 col-lg-4">
                <h3>LANGUAGE ARTS</h3>
            </div>
            <div class="col-xs-6 col-lg-4">
                <h3>LOCAL TOPICS</h3>
            </div>
            <div class="col-xs-6 col-lg-4">
                <h3>MATH</h3>
            </div>
            <div class="col-xs-6 col-lg-4">
                <h3>SCIENCE</h3>
            </div>
        </div>
    </div>-->

    <footer class="panel-footer">
        <div class="container">
            
            <div id="confirmation" style="display: none;">
                <h3>Pressing "Continue" will download and delte all user tracking data, else press "Cancel" to go back.</h3>
                <form action="downloadcsv.php" method="post">
                    <input type="submit" name="download" value="Confirm Download" class="btn btn-primary btn-xs">
                    <button  id="cancel-btn" type="button" class="btn btn-warning">Cancel</button>
                </form>
            </div>
            <br />
            <div class="btn-toolbar" role="toolbar" aria-label="Basic example">
                <button  id="download-btn" type="button" class="btn btn-success">Download CSV</button>
                <button id="fileaccess-btn" type="button" class="btn btn-success">Most Accessed</button>

    		<button id="category-btn" type="button" class="btn btn-success">Category Usage</button>
		<!--<a href="AccessByCategory.php" class="btn btn-secondary btn-success">Category Usage</a>-->
		<!--<a href="MostAccessed.php" class="btn btn-secondary btn-success">Most Accessed</a>-->
	    </div>
	    <br />
	    <div id="chart-container" style="background-color: #fff;">
	    </div>
        </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <script src="jquery.dataTables.min.js"></script>
    <script type="text/javascript">
  function make_table() {
    $.ajax({
			async: true,
			dataType: "html",
			url: "MostAccessed.php",
			success: function(data) {
				$("#chart-container").html(data);
				$("#main-table").DataTable({
					"scrollY": "350px",
					"scrollCollapse": true,
					"paging": false,
					"order": [[2, "desc"]]
				});
			}
		});
  }
  
  function make_pie_chart() {
		$.ajax({
			async: true,
			dataType: "html",
			url: "AccessByCategory.php",
			success: function(data) {
				$("#chart-container").html(data);
			}
		});
  }
  
   //make_table();
  
	/*window.addEventListener('click', function() {
		var target = event.target;
		if (target === ""){}
	});*/	

	document.getElementById("category-btn").addEventListener('click', function() {
		//$("#chart-container").load("AccessByCategory.php");
		make_pie_chart();
		$("#category-btn").addClass('active');
		$("#fileaccess-btn").removeClass('active');
	});

	document.getElementById("fileaccess-btn").addEventListener('click', function() {
		//$("#chart-container").load("MostAccessed.php");
		make_table();
		$("#category-btn").removeClass('active');
		$("#fileaccess-btn").addClass('active');
	});

    document.getElementById("download-btn").addEventListener('click', function() {
        $("#confirmation").css('display', 'block');
    });

    document.getElementById("cancel-btn").addEventListener('click', function() {
        $("#confirmation").css('display', 'none');
    });
    </script>
</body>

</html>
